At the begining of the call store everything required in cookie
why is caller_id, call_id kept in session, is it not passed with every request
AUTH_SUCCESS is not required as once authenticated one doesn't need to check it anymore, so this would be set in request
If the request is still coming to authentication then it is for collecting the PIN. the number of retries should be set in cookie. after authentication we should remove it.
PillRegimen snapshot is created by putting the time, but it is also provided IVRContext. Calltime can be session.
ExternalId to go to response cookie

org.motechproject.tama.ivr.PillRegimenSnapshot#getCurrentDosage, what is this used for

1. Service is a service and should not be kept in ivr package. IVR and Web are different presentation mechanism, but are domain services.
2. Domain package should be subdivided into smaller parts.
3. Use composition over inheritance, any class hierarchy bigger than two probably is a smell. org.motechproject.tama.web.command.StopPreviousPillReminderCommand

Find out:
- no pin sent scenario should the call audits be created or not

Test
- outbox

Share:
The dynamic command tests are missing